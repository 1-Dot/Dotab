$font-primary:
  'Manrope',
  'PingFang SC',
  -apple-system,
  BlinkMacSystemFont,
  'Segoe UI',
  Roboto,
  Helvetica,
  Arial,
  sans-serif,
  'Apple Color Emoji',
  'Segoe UI Emoji',
  'Segoe UI Symbol';
$font-icon: 'Segoe Fluent Icons';

// 浅色模式颜色
$light-background: #ffffff;
$light-text-primary: #000000;
$light-text-secondary: #5f5f5f;
$light-search-bg: #f1f3f4;
$light-search-placeholder: #70757a;
$light-search-border: transparent;

// ✨ Updated for new shortcut style
$light-shortcut-icon-bg: #ffffff; // Icon container background (light mode)
$light-shortcut-item-bg: transparent; // Shortcut item wrapper background (light mode)
$light-shortcut-item-hover-bg: #e8eaed; // Shortcut item wrapper hover background (light mode) - subtle gray

$light-modal-backdrop: rgba(0, 0, 0, 0.1);
$light-modal-bg: #f3f3f5;
@use 'sass:color';
@use 'sass:map';

$font-primary:
  'Manrope',
  'PingFang SC',
  -apple-system,
  BlinkMacSystemFont,
  'Segoe UI',
  Roboto,
  Helvetica,
  Arial,
  sans-serif,
  'Apple Color Emoji',
  'Segoe UI Emoji',
  'Segoe UI Symbol';
$font-icon: 'Segoe Fluent Icons';

$border-radius-small: 3px;
$border-radius-medium: 7px;
$border-radius-large: 13px;
$border-radius-round: 50%;

$search-bar-height: 43px;
$shortcut-wrapper-width: 96px;
$shortcut-icon-container-size: 62px;
$shortcut-favicon-size: 29px;
$shortcut-gap: 2px;

$modal-max-width: 480px;

$shortcutItem-shadow: 0px 6px 20px rgba(38.9, 49.2, 73.56, 0.15);
$contextMenu-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);

$shortcut-item-hover-light: rgba(0, 0, 0, 0.067);
$shortcut-item-hover-dark: #3c4043;
$search-suggestion-hover-light: rgba(0, 0, 0, 0.06);
$search-suggestion-hover-dark: rgba(255, 255, 255, 0.08);
$search-suggestion-active-light: rgba(0, 0, 0, 0.12);
$search-suggestion-active-dark: rgba(255, 255, 255, 0.16);
$light-button-primary-under: #00377a;
$light-button-secondary-under: #cecece;
$dark-button-primary-bg: #4cc2ff;
$dark-button-secondary-bg: #3c4043;
$dark-button-primary-under: color.scale($dark-button-primary-bg, $lightness: -35%);
$dark-button-secondary-under: color.scale($dark-button-secondary-bg, $lightness: 25%);

$_theme-color-tokens: (
  light: (
    bg-color: #f9fafb,
    text-primary-color: #333333,
    text-secondary-color: #5f5f5f,
    search-bg-color: #ffffff,
    search-placeholder-color: #888888,
    search-border-color: #d2d3d6,
    search-suggestion-hover-bg-color: $search-suggestion-hover-light,
    search-suggestion-active-bg-color: $search-suggestion-active-light,
    shortcut-icon-bg-color: #ffffff,
    shortcut-item-bg-color: transparent,
    shortcut-item-hover-bg-color: $shortcut-item-hover-light,
    shortcut-name-text-color: #000000,
    modal-backdrop-color: rgba(0, 0, 0, 0.1),
    modal-action-bg-color: #f3f3f5,
    modal-bg-color: #fff,
    context-menu-bg-color: #f8f9fad0,
    context-menu-hover-bg-color: #00000010,
    button-primary-bg-color: #0067c0,
    button-primary-text-color: #ffffff,
    button-secondary-bg-color: #fefefe,
    button-secondary-text-color: #3c4043,
    button-primary-under: $light-button-primary-under,
    button-secondary-under: $light-button-secondary-under,
    input-border-color: #cdcdcd,
    input-bg-color: #fafafb,
    accent-color: #0067c0,
    greeting-avatar-bg-color: #202124,
    greeting-avatar-text-color: #ffffff,
  ),
  dark: (
    bg-color: #202124,
    text-primary-color: #e8eaed,
    text-secondary-color: #9aa0a6,
    search-bg-color: #303134,
    search-placeholder-color: #9aa0a6,
    search-border-color: #5f6368,
    search-suggestion-hover-bg-color: $search-suggestion-hover-dark,
    search-suggestion-active-bg-color: $search-suggestion-active-dark,
    shortcut-icon-bg-color: #303134,
    shortcut-item-bg-color: transparent,
    shortcut-item-hover-bg-color: $shortcut-item-hover-dark,
    shortcut-name-text-color: #e8eaed,
    modal-backdrop-color: rgba(0, 0, 0, 0.4),
    modal-action-bg-color: #2d2e30,
    modal-bg-color: #202124,
    context-menu-bg-color: #2d2e30d0,
    context-menu-hover-bg-color: #ffffff10,
    button-primary-bg-color: $dark-button-primary-bg,
    button-primary-text-color: #202124,
    button-secondary-bg-color: $dark-button-secondary-bg,
    button-secondary-text-color: #e8eaed,
    button-primary-under: $dark-button-primary-under,
    button-secondary-under: $dark-button-secondary-under,
    input-border-color: #5f6368,
    input-bg-color: #303134,
    accent-color: $dark-button-primary-bg,
    greeting-avatar-bg-color: #f1f3f4,
    greeting-avatar-text-color: #202124,
  ),
);

@function theme-color($token, $mode: light) {
  $theme: map.get($_theme-color-tokens, $mode);
  @if $theme == null {
    @error 'Unknown theme mode: #{ $mode }.';
  }
  @if not map.has-key($theme, $token) {
    @error 'Unknown theme token: #{ $token } for #{ $mode }.';
  }
  @return map.get($theme, $token);
}

@mixin declare-theme-variables($mode) {
  $theme: map.get($_theme-color-tokens, $mode);
  @if $theme == null {
    @error 'Unknown theme mode: #{ $mode }.';
  }

  @each $token, $value in $theme {
    --#{$token}: #{$value};
  }

  $accent: map.get($theme, accent-color);
  @if $accent {
    --accent-color-rgb:
      #{color.channel($accent, 'red')}, #{color.channel($accent, 'green')},
      #{color.channel($accent, 'blue')};
  }
}
